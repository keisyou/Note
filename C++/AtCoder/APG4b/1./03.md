# 1.03.四則演算と優先順位

## キーポイント
| 演算子 | 計算内容 |
| ----- | ------- |
| `+`   | 足し算   |
| `-`   | 引き算   |
| `*`   | 掛け算   |
| `/`   | 割り算   |
| `%`   | 割った余り |

- 整数同士の割り算は小数点以下切り捨て

## 四則演算
次のプログラムは上から順に、「足し算」「引き算」「掛け算」「割り算」を行っています。

```c++
#include <bits/stdc++.h>
using namespace std;

int main() {
  cout << 1 + 1 << endl; // 2
  cout << 3 - 4 << endl; // -1
  cout << 2 * 3 << endl; // 6
  cout << 7 / 3 << endl; // 2
}
```

**実行結果**
```
2
-1
6
2
```

これらの記号 `+`, `-`, `*`, `/` のことを**算術演算子**といいます。

`3 - 4` が `-1` になっている通り、負の値も計算できます。\
**`*` が「掛け算」で、`/` が「割り算」です。**

`7 / 3` が `2` になっていることに注意して下さい。C++では、整数同士で割り算した場合、結果は小数点以下を切り捨てした値になります。（**7÷3=2.33...→2, −7÷3=−2.33...→−2**）\
小数点以下を切り捨てないで計算してほしい場合、`7.0 / 3.0` のように `.0` をつけます。同様に `7.0 / 3.5` のような計算も行えます。

### 剰余演算
もう一つ重要な算術演算子として `%` があります。この演算子は「割ったときの余り」を計算します。

```c++
#include <bits/stdc++.h>
using namespace std;

int main() {
  cout << 7 % 3 << endl; // 1
  cout << 4 % 5 << endl; // 4
}
```

**実行結果**
```
1
4
```

7÷3=2 あまり 1\
4÷5=0 あまり 4\
となるため、このプログラムの出力は `1` と `4` になります。

## 演算子の優先順位
演算子には**優先順位**があります。

例えば `1 + 2 * 3` のような式を計算する場合、先に `2 * 3` が計算された後、`1` が足され、計算結果は `7` になります。\
`1 + 2 * 3 → 1 + 6 → 7`\
`*` は `+` よりも優先順位が高いというわけです。

C++の算術演算子の優先順位は、一般的な数学の優先順位と同じです。\
`%` は `*` や `/` と同じ優先順位になります。

**優先順位**
| 高い | 低い |
| --- | --- |
| `*` | `+` |
| `/` | `-` |
| `%` |     |

`( )` を使って優先順位を変えることもできます。

```c++
#include <bits/stdc++.h>
using namespace std;

int main() {
  cout << (1 + 2) * 3 << endl; // 9
}
```

**実行結果**
```
9
```

`( )` の中が先に計算され、`(1 + 2) * 3 → 3 * 3` となり結果は `9` になります。

なお、`5 / 2 * 3` のように同じ優先順位の演算子が並んでいる式は、基本的に左の演算子から順に計算されます。

## 注意点
割り算 `/` のある整数同士の計算では、切り捨てが行われるタイミングの違いで結果が異なることがあります。

例えば3÷2×4を計算する場合、書き方によって2つの計算結果が考えられます。

- `3 / 2 * 4` → `1 * 4` → `4`
- `3 * 4 / 2` → `12 / 2` → `6`

多くの場合、割り算はできるだけ後の方で行うようにしたほうが正しい結果になります。

### ゼロ除算
0で割ると実行時エラーが発生します。

```c++
#include <bits/stdc++.h>
using namespace std;

int main() {
  cout << 3 / 0 << endl;
}
```

**終了コード**
```
136
```

`3 % 0` のように `0` で剰余演算 `%` をした場合も同様に実行時エラーになります。

コードテスト上で表示される終了コードは136になります。\
コードテスト以外の環境で実行した場合、`Floating point exception`と表示されることもあります。

なお、`0 / 3` や `0 % 3` のように、割られる数が `0` の場合は問題なく計算できることに注意してください。どちらも結果は `0` になります。

## 資料
[D - 1.03.四則演算と優先順位](https://atcoder.jp/contests/apg4b/tasks/APG4b_d)
